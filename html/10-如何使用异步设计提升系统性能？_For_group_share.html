<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>10-å¦‚ä½•ä½¿ç”¨å¼‚æ­¥è®¾è®¡æå‡ç³»ç»Ÿæ€§èƒ½ï¼Ÿ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>10-å¦‚ä½•ä½¿ç”¨å¼‚æ­¥è®¾è®¡æå‡ç³»ç»Ÿæ€§èƒ½ï¼Ÿ</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ï¼Œè¿™ä¸€è®²æˆ‘ä»¬æ¥èŠä¸€èŠå¼‚æ­¥ã€‚</p><p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå¼‚æ­¥æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡çš„æ€æƒ³ï¼Œä½¿ç”¨å¼‚æ­¥æ¨¡å¼è®¾è®¡çš„ç¨‹åºå¯ä»¥æ˜¾è‘—å‡å°‘çº¿ç¨‹ç­‰å¾…ï¼Œä»è€Œåœ¨é«˜ååé‡çš„åœºæ™¯ä¸­ï¼Œæå¤§æå‡ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ï¼Œæ˜¾è‘—é™ä½æ—¶å»¶ã€‚</p><p>å› æ­¤ï¼Œåƒæ¶ˆæ¯é˜Ÿåˆ—è¿™ç§éœ€è¦è¶…é«˜ååé‡å’Œè¶…ä½æ—¶å»¶çš„ä¸­é—´ä»¶ç³»ç»Ÿï¼Œåœ¨å…¶æ ¸å¿ƒæµç¨‹ä¸­ï¼Œä¸€å®šä¼šå¤§é‡é‡‡ç”¨å¼‚æ­¥çš„è®¾è®¡æ€æƒ³ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥é€šè¿‡ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­å­¦ä¹ ä¸€ä¸‹ï¼Œä½¿ç”¨å¼‚æ­¥è®¾è®¡æ˜¯å¦‚ä½•æå‡ç³»ç»Ÿæ€§èƒ½çš„ã€‚</p><h2>å¼‚æ­¥è®¾è®¡å¦‚ä½•æå‡ç³»ç»Ÿæ€§èƒ½ï¼Ÿ</h2><p>å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªè½¬è´¦çš„å¾®æœåŠ¡Transfer( accountFrom, accountTo, amount)ï¼Œè¿™ä¸ªæœåŠ¡æœ‰ä¸‰ä¸ªå‚æ•°ï¼šåˆ†åˆ«æ˜¯è½¬å‡ºè´¦æˆ·ã€è½¬å…¥è´¦æˆ·å’Œè½¬è´¦é‡‘é¢ã€‚</p><p>å®ç°è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬è¦ä»è´¦æˆ·Aä¸­è½¬è´¦100å…ƒåˆ°è´¦æˆ·Bä¸­ï¼š</p><ol>
<li>å…ˆä»Açš„è´¦æˆ·ä¸­å‡å»100å…ƒï¼›</li>
<li>å†ç»™Bçš„è´¦æˆ·åŠ ä¸Š100å…ƒï¼Œè½¬è´¦å®Œæˆã€‚</li>
</ol><p>å¯¹åº”çš„æ—¶åºå›¾æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/3f/58/3f7faf335a9e6c3009902d85b71d3058.jpg" alt=""></p><p>åœ¨è¿™ä¸ªä¾‹å­çš„å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†å¦å¤–ä¸€ä¸ªå¾®æœåŠ¡Add(account, amount)ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ç»™è´¦æˆ·accountå¢åŠ é‡‘é¢amountï¼Œå½“amountä¸ºè´Ÿå€¼çš„æ—¶å€™ï¼Œå°±æ˜¯æ‰£å‡å“åº”çš„é‡‘é¢ã€‚</p><p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œåœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä¸ºäº†ä½¿é—®é¢˜ç®€åŒ–ä»¥ä¾¿æˆ‘ä»¬èƒ½ä¸“æ³¨äºå¼‚æ­¥å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œçœç•¥äº†é”™è¯¯å¤„ç†å’Œäº‹åŠ¡ç›¸å…³çš„ä»£ç ï¼Œä½ åœ¨å®é™…çš„å¼€å‘ä¸­ä¸è¦è¿™æ ·åšã€‚</p><!-- [[[read_end]]] --><h4>1. åŒæ­¥å®ç°çš„æ€§èƒ½ç“¶é¢ˆ</h4><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åŒæ­¥å®ç°ï¼Œå¯¹åº”çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><pre><code>Transfer(accountFrom, accountTo, amount) {
  // å…ˆä»accountFromçš„è´¦æˆ·ä¸­å‡å»ç›¸åº”çš„é’±æ•°
  Add(accountFrom, -1 * amount)
  // å†æŠŠå‡å»çš„é’±æ•°åŠ åˆ°accountToçš„è´¦æˆ·ä¸­
  Add(accountFrom, amount)
  return OK
}
</code></pre><p>ä¸Šé¢çš„ä¼ªä»£ç é¦–å…ˆä»accountFromçš„è´¦æˆ·ä¸­å‡å»ç›¸åº”çš„é’±æ•°ï¼Œå†æŠŠå‡å»çš„é’±æ•°åŠ åˆ°accountToçš„è´¦æˆ·ä¸­ï¼Œè¿™ç§åŒæ­¥å®ç°æ˜¯ä¸€ç§å¾ˆè‡ªç„¶æ–¹å¼ï¼Œç®€å•ç›´æ¥ã€‚é‚£ä¹ˆæ€§èƒ½è¡¨ç°å¦‚ä½•å‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä¸€èµ·åˆ†æä¸€ä¸‹æ€§èƒ½ã€‚</p><p>å‡è®¾å¾®æœåŠ¡Addçš„å¹³å‡å“åº”æ—¶å»¶æ˜¯50msï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“è®¡ç®—å‡ºæˆ‘ä»¬å®ç°çš„å¾®æœåŠ¡Transferçš„å¹³å‡å“åº”æ—¶å»¶å¤§çº¦ç­‰äºæ‰§è¡Œ2æ¬¡Addçš„æ—¶å»¶ï¼Œä¹Ÿå°±æ˜¯100msã€‚é‚£éšç€è°ƒç”¨TransferæœåŠ¡çš„è¯·æ±‚è¶Šæ¥è¶Šå¤šï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p><p>åœ¨è¿™ç§å®ç°ä¸­ï¼Œæ¯å¤„ç†ä¸€ä¸ªè¯·æ±‚éœ€è¦è€—æ—¶100msï¼Œå¹¶åœ¨è¿™100msè¿‡ç¨‹ä¸­æ˜¯éœ€è¦ç‹¬å ä¸€ä¸ªçº¿ç¨‹çš„ï¼Œé‚£ä¹ˆå¯ä»¥å¾—å‡ºè¿™æ ·ä¸€ä¸ªç»“è®ºï¼šæ¯ä¸ªçº¿ç¨‹æ¯ç§’é’Ÿæœ€å¤šå¯ä»¥å¤„ç†10ä¸ªè¯·æ±‚ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¯å°è®¡ç®—æœºä¸Šçš„çº¿ç¨‹èµ„æºå¹¶ä¸æ˜¯æ— é™çš„ï¼Œå‡è®¾æˆ‘ä»¬ä½¿ç”¨çš„æœåŠ¡å™¨åŒæ—¶æ‰“å¼€çš„çº¿ç¨‹æ•°é‡ä¸Šé™æ˜¯10,000ï¼Œå¯ä»¥è®¡ç®—å‡ºè¿™å°æœåŠ¡å™¨æ¯ç§’é’Ÿå¯ä»¥å¤„ç†çš„è¯·æ±‚ä¸Šé™æ˜¯ï¼š 10,000 ï¼ˆä¸ªçº¿ç¨‹ï¼‰* 10ï¼ˆæ¬¡è¯·æ±‚æ¯ç§’ï¼‰ = 100,000 æ¬¡æ¯ç§’ã€‚</p><p>å¦‚æœè¯·æ±‚é€Ÿåº¦è¶…è¿‡è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆè¯·æ±‚å°±ä¸èƒ½è¢«é©¬ä¸Šå¤„ç†ï¼Œåªèƒ½é˜»å¡æˆ–è€…æ’é˜Ÿï¼Œè¿™æ—¶å€™TransferæœåŠ¡çš„å“åº”æ—¶å»¶ç”±100mså»¶é•¿åˆ°äº†ï¼šæ’é˜Ÿçš„ç­‰å¾…æ—¶å»¶ + å¤„ç†æ—¶å»¶(100ms)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤§é‡è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„å¾®æœåŠ¡çš„å¹³å‡å“åº”æ—¶å»¶å˜é•¿äº†ã€‚</p><p>è¿™æ˜¯ä¸æ˜¯å·²ç»åˆ°äº†è¿™å°æœåŠ¡å™¨æ‰€èƒ½æ‰¿å—çš„æé™äº†å‘¢ï¼Ÿå…¶å®è¿œè¿œæ²¡æœ‰ï¼Œå¦‚æœæˆ‘ä»¬ç›‘æµ‹ä¸€ä¸‹æœåŠ¡å™¨çš„å„é¡¹æŒ‡æ ‡ï¼Œä¼šå‘ç°æ— è®ºæ˜¯CPUã€å†…å­˜ï¼Œè¿˜æ˜¯ç½‘å¡æµé‡æˆ–è€…æ˜¯ç£ç›˜çš„IOéƒ½ç©ºé—²çš„å¾ˆï¼Œé‚£æˆ‘ä»¬TransferæœåŠ¡ä¸­çš„é‚£10,000ä¸ªçº¿ç¨‹åœ¨å¹²ä»€ä¹ˆå‘¢ï¼Ÿå¯¹ï¼Œç»å¤§éƒ¨åˆ†çº¿ç¨‹éƒ½åœ¨ç­‰å¾…AddæœåŠ¡è¿”å›ç»“æœã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>é‡‡ç”¨åŒæ­¥å®ç°çš„æ–¹å¼ï¼Œæ•´ä¸ªæœåŠ¡å™¨çš„æ‰€æœ‰çº¿ç¨‹å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ²¡æœ‰åœ¨å·¥ä½œï¼Œè€Œæ˜¯éƒ½åœ¨ç­‰å¾…ã€‚</strong></p><p>å¦‚æœæˆ‘ä»¬èƒ½å‡å°‘æˆ–è€…é¿å…è¿™ç§æ— æ„ä¹‰çš„ç­‰å¾…ï¼Œå°±å¯ä»¥å¤§å¹…æå‡æœåŠ¡çš„ååèƒ½åŠ›ï¼Œä»è€Œæå‡æœåŠ¡çš„æ€»ä½“æ€§èƒ½ã€‚</p><h4>2. é‡‡ç”¨å¼‚æ­¥å®ç°è§£å†³ç­‰å¾…é—®é¢˜</h4><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•ç”¨å¼‚æ­¥çš„æ€æƒ³æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ç°åŒæ ·çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><pre><code>TransferAsync(accountFrom, accountTo, amount, OnComplete()) {
  // å¼‚æ­¥ä»accountFromçš„è´¦æˆ·ä¸­å‡å»ç›¸åº”çš„é’±æ•°ï¼Œç„¶åè°ƒç”¨OnDebitæ–¹æ³•ã€‚
  AddAsync(accountFrom, -1 * amount, OnDebit(accountTo, amount, OnAllDone(OnComplete())))
}
// æ‰£å‡è´¦æˆ·accountFromå®Œæˆåè°ƒç”¨
OnDebit(accountTo, amount, OnAllDone(OnComplete())) {
  //  å†å¼‚æ­¥æŠŠå‡å»çš„é’±æ•°åŠ åˆ°accountToçš„è´¦æˆ·ä¸­ï¼Œç„¶åæ‰§è¡ŒOnAllDoneæ–¹æ³•
  AddAsync(accountTo, amount, OnAllDone(OnComplete()))
}
// è½¬å…¥è´¦æˆ·accountToå®Œæˆåè°ƒç”¨
OnAllDone(OnComplete()) {
  OnComplete()
}
</code></pre><p>ç»†å¿ƒçš„ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼ŒTransferAsyncæœåŠ¡æ¯”Transferå¤šäº†ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå›è°ƒæ–¹æ³•OnComplete()ï¼ˆè™½ç„¶Javaè¯­è¨€å¹¶ä¸æ”¯æŒå°†æ–¹æ³•ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’ï¼Œä½†åƒJavaScriptç­‰å¾ˆå¤šè¯­è¨€éƒ½å…·æœ‰è¿™æ ·çš„ç‰¹æ€§ï¼Œåœ¨Javaè¯­è¨€ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªå›è°ƒç±»çš„å®ä¾‹æ¥å˜ç›¸å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼‰ã€‚</p><p>è¿™ä¸ªTransferAsync()æ–¹æ³•çš„è¯­ä¹‰æ˜¯ï¼šè¯·å¸®æˆ‘æ‰§è¡Œè½¬è´¦æ“ä½œï¼Œå½“è½¬è´¦å®Œæˆåï¼Œè¯·è°ƒç”¨OnComplete()æ–¹æ³•ã€‚è°ƒç”¨TransferAsyncçš„çº¿ç¨‹ä¸å¿…ç­‰å¾…è½¬è´¦å®Œæˆå°±å¯ä»¥ç«‹å³è¿”å›äº†ï¼Œå¾…è½¬è´¦ç»“æŸåï¼ŒTransferServiceè‡ªç„¶ä¼šè°ƒç”¨OnComplete()æ–¹æ³•æ¥æ‰§è¡Œè½¬è´¦åç»­çš„å·¥ä½œã€‚</p><p>å¼‚æ­¥çš„å®ç°è¿‡ç¨‹ç›¸å¯¹äºåŒæ­¥æ¥è¯´ï¼Œç¨å¾®æœ‰äº›å¤æ‚ã€‚æˆ‘ä»¬å…ˆå®šä¹‰2ä¸ªå›è°ƒæ–¹æ³•ï¼š</p><ul>
<li><strong>OnDebit()</strong>ï¼šæ‰£å‡è´¦æˆ·accountFromå®Œæˆåè°ƒç”¨çš„å›è°ƒæ–¹æ³•ï¼›</li>
<li><strong>OnAllDone()</strong>ï¼šè½¬å…¥è´¦æˆ·accountToå®Œæˆåè°ƒç”¨çš„å›è°ƒæ–¹æ³•ã€‚</li>
</ul><p>æ•´ä¸ªå¼‚æ­¥å®ç°çš„è¯­ä¹‰ç›¸å½“äºï¼š</p><ol>
<li>å¼‚æ­¥ä»accountFromçš„è´¦æˆ·ä¸­å‡å»ç›¸åº”çš„é’±æ•°ï¼Œç„¶åè°ƒç”¨OnDebitæ–¹æ³•ï¼›</li>
<li>åœ¨OnDebitæ–¹æ³•ä¸­ï¼Œå¼‚æ­¥æŠŠå‡å»çš„é’±æ•°åŠ åˆ°accountToçš„è´¦æˆ·ä¸­ï¼Œç„¶åæ‰§è¡ŒOnAllDoneæ–¹æ³•ï¼›</li>
<li>åœ¨OnAllDoneæ–¹æ³•ä¸­ï¼Œè°ƒç”¨OnCompleteæ–¹æ³•ã€‚</li>
</ol><p>ç»˜åˆ¶æˆæ—¶åºå›¾æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/38/0d/38ab8de8fbfaf4cd4b34fbd9ddd3360d.jpg" alt=""></p><p>ä½ ä¼šå‘ç°ï¼Œå¼‚æ­¥åŒ–å®ç°åï¼Œæ•´ä¸ªæµç¨‹çš„æ—¶åºå’ŒåŒæ­¥å®ç°æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œ<strong>åŒºåˆ«åªæ˜¯åœ¨çº¿ç¨‹æ¨¡å‹ä¸Šç”±åŒæ­¥é¡ºåºè°ƒç”¨æ”¹ä¸ºäº†å¼‚æ­¥è°ƒç”¨å’Œå›è°ƒçš„æœºåˆ¶ã€‚</strong></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸€ä¸‹å¼‚æ­¥å®ç°çš„æ€§èƒ½ï¼Œç”±äºæµç¨‹çš„æ—¶åºå’ŒåŒæ­¥å®ç°æ˜¯ä¸€æ ·ï¼Œåœ¨ä½è¯·æ±‚æ•°é‡çš„åœºæ™¯ä¸‹ï¼Œå¹³å‡å“åº”æ—¶å»¶ä¸€æ ·æ˜¯100msã€‚åœ¨è¶…é«˜è¯·æ±‚æ•°é‡åœºæ™¯ä¸‹ï¼Œå¼‚æ­¥çš„å®ç°ä¸å†éœ€è¦çº¿ç¨‹ç­‰å¾…æ‰§è¡Œç»“æœï¼Œåªéœ€è¦ä¸ªä½æ•°é‡çš„çº¿ç¨‹ï¼Œå³å¯å®ç°åŒæ­¥åœºæ™¯å¤§é‡çº¿ç¨‹ä¸€æ ·çš„ååé‡ã€‚</p><p>ç”±äºæ²¡æœ‰äº†çº¿ç¨‹çš„æ•°é‡çš„é™åˆ¶ï¼Œæ€»ä½“ååé‡ä¸Šé™ä¼šå¤§å¤§è¶…è¿‡åŒæ­¥å®ç°ï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨CPUã€ç½‘ç»œå¸¦å®½èµ„æºè¾¾åˆ°æé™ä¹‹å‰ï¼Œå“åº”æ—¶å»¶ä¸ä¼šéšç€è¯·æ±‚æ•°é‡å¢åŠ è€Œæ˜¾è‘—å‡é«˜ï¼Œå‡ ä¹å¯ä»¥ä¸€ç›´ä¿æŒçº¦100msçš„å¹³å‡å“åº”æ—¶å»¶ã€‚</p><p>çœ‹ï¼Œè¿™å°±æ˜¯å¼‚æ­¥çš„é­”åŠ›ã€‚</p><h2>ç®€å•å®ç”¨çš„å¼‚æ­¥æ¡†æ¶: CompletableFuture</h2><p>åœ¨å®é™…å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼‚æ­¥æ¡†æ¶å’Œå“åº”å¼æ¡†æ¶ï¼Œæ¥è§£å†³ä¸€äº›é€šç”¨çš„å¼‚æ­¥ç¼–ç¨‹é—®é¢˜ï¼Œç®€åŒ–å¼€å‘ã€‚Javaä¸­æ¯”è¾ƒå¸¸ç”¨çš„å¼‚æ­¥æ¡†æ¶æœ‰Java8å†…ç½®çš„<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html">CompletableFuture</a>å’ŒReactiveXçš„<a href="https://github.com/ReactiveX/RxJava">RxJava</a>ï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç®€å•å®ç”¨æ˜“äºç†è§£çš„CompletableFutureï¼Œä½†æ˜¯RxJavaçš„åŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚</p><p>Java 8ä¸­æ–°å¢äº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç”¨äºå¼‚æ­¥ç¼–ç¨‹çš„ç±»ï¼šCompletableFutureï¼Œå‡ ä¹å›Šè·äº†æˆ‘ä»¬åœ¨å¼€å‘å¼‚æ­¥ç¨‹åºçš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œä½¿ç”¨CompletableFutureå¾ˆå®¹æ˜“ç¼–å†™å‡ºä¼˜é›…ä¸”æ˜“äºç»´æŠ¤çš„å¼‚æ­¥ä»£ç ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ï¼Œå¦‚ä½•ç”¨CompletableFutureå®ç°çš„è½¬è´¦æœåŠ¡ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨CompletableFutureå®šä¹‰2ä¸ªå¾®æœåŠ¡çš„æ¥å£ï¼š</p><pre><code>/**
 * è´¦æˆ·æœåŠ¡
 */
public interface AccountService {
    /**
     * å˜æ›´è´¦æˆ·é‡‘é¢
     * @param account è´¦æˆ·ID
     * @param amount å¢åŠ çš„é‡‘é¢ï¼Œè´Ÿå€¼ä¸ºå‡å°‘
     */
    CompletableFuture&lt;Void&gt; add(int account, int amount);
}
</code></pre><pre><code>/**
 * è½¬è´¦æœåŠ¡
 */
public interface TransferService {
    /**
     * å¼‚æ­¥è½¬è´¦æœåŠ¡
     * @param fromAccount è½¬å‡ºè´¦æˆ·
     * @param toAccount è½¬å…¥è´¦æˆ·
     * @param amount è½¬è´¦é‡‘é¢ï¼Œå•ä½åˆ†
     */
    CompletableFuture&lt;Void&gt; transfer(int fromAccount, int toAccount, int amount);
}
</code></pre><p>å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªæ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•çš„è¿”å›ç±»å‹éƒ½æ˜¯ä¸€ä¸ªå¸¦æ³›å‹çš„CompletableFetureï¼Œå°–æ‹¬å·ä¸­çš„æ³›å‹ç±»å‹å°±æ˜¯çœŸæ­£æ–¹æ³•éœ€è¦è¿”å›æ•°æ®çš„ç±»å‹ï¼Œæˆ‘ä»¬è¿™ä¸¤ä¸ªæœåŠ¡ä¸éœ€è¦è¿”å›æ•°æ®ï¼Œæ‰€ä»¥ç›´æ¥ç”¨Voidç±»å‹å°±å¯ä»¥ã€‚</p><p>ç„¶åæˆ‘ä»¬æ¥å®ç°è½¬è´¦æœåŠ¡ï¼š</p><pre><code>/**
 * è½¬è´¦æœåŠ¡çš„å®ç°
 */
public class TransferServiceImpl implements TransferService {
    @Inject
    private  AccountService accountService; // ä½¿ç”¨ä¾èµ–æ³¨å…¥è·å–è´¦æˆ·æœåŠ¡çš„å®ä¾‹
    @Override
    public CompletableFuture&lt;Void&gt; transfer(int fromAccount, int toAccount, int amount) {
      // å¼‚æ­¥è°ƒç”¨addæ–¹æ³•ä»fromAccountæ‰£å‡ç›¸åº”é‡‘é¢
      return accountService.add(fromAccount, -1 * amount)
      // ç„¶åè°ƒç”¨addæ–¹æ³•ç»™toAccountå¢åŠ ç›¸åº”é‡‘é¢
      .thenCompose(v -&gt; accountService.add(toAccount, amount));    
    }
}
</code></pre><p>åœ¨è½¬è´¦æœåŠ¡çš„å®ç°ç±»TransferServiceImplé‡Œé¢ï¼Œå…ˆå®šä¹‰ä¸€ä¸ªAccountServiceå®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹ä»å¤–éƒ¨æ³¨å…¥è¿›æ¥ï¼Œè‡³äºæ€ä¹ˆæ³¨å…¥ä¸æ˜¯æˆ‘ä»¬å…³å¿ƒçš„é—®é¢˜ï¼Œå°±å‡è®¾è¿™ä¸ªå®ä¾‹æ˜¯å¯ç”¨çš„å°±å¥½äº†ã€‚</p><p>ç„¶åæˆ‘ä»¬çœ‹å®ç°transfer()æ–¹æ³•çš„å®ç°ï¼Œæˆ‘ä»¬å…ˆè°ƒç”¨ä¸€æ¬¡è´¦æˆ·æœåŠ¡accountService.add()æ–¹æ³•ä»fromAccountæ‰£å‡å“åº”çš„é‡‘é¢ï¼Œå› ä¸ºadd()æ–¹æ³•è¿”å›çš„å°±æ˜¯ä¸€ä¸ªCompletableFetureå¯¹è±¡ï¼Œå¯ä»¥ç”¨CompletableFetureçš„thenCompose()æ–¹æ³•å°†ä¸‹ä¸€æ¬¡è°ƒç”¨accountService.add()ä¸²è”èµ·æ¥ï¼Œå®ç°å¼‚æ­¥ä¾æ¬¡è°ƒç”¨ä¸¤æ¬¡è´¦æˆ·æœåŠ¡å®Œæ•´è½¬è´¦ã€‚</p><p>å®¢æˆ·ç«¯ä½¿ç”¨CompletableFutureä¹Ÿéå¸¸çµæ´»ï¼Œæ—¢å¯ä»¥åŒæ­¥è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥å¼‚æ­¥è°ƒç”¨ã€‚</p><pre><code>public class Client {
    @Inject
    private TransferService transferService; // ä½¿ç”¨ä¾èµ–æ³¨å…¥è·å–è½¬è´¦æœåŠ¡çš„å®ä¾‹
    private final static int A = 1000;
    private final static int B = 1001;

    public void syncInvoke() throws ExecutionException, InterruptedException {
        // åŒæ­¥è°ƒç”¨
        transferService.transfer(A, B, 100).get();
        System.out.println(&quot;è½¬è´¦å®Œæˆï¼&quot;);
    }

    public void asyncInvoke() {
        // å¼‚æ­¥è°ƒç”¨
        transferService.transfer(A, B, 100)
                .thenRun(() -&gt; System.out.println(&quot;è½¬è´¦å®Œæˆï¼&quot;));
    }
}
</code></pre><p>åœ¨è°ƒç”¨å¼‚æ­¥æ–¹æ³•è·å¾—è¿”å›å€¼CompletableFutureå¯¹è±¡åï¼Œæ—¢å¯ä»¥è°ƒç”¨CompletableFutureçš„getæ–¹æ³•ï¼Œåƒè°ƒç”¨åŒæ­¥æ–¹æ³•é‚£æ ·ç­‰å¾…è°ƒç”¨çš„æ–¹æ³•æ‰§è¡Œç»“æŸå¹¶è·å¾—è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥åƒå¼‚æ­¥å›è°ƒçš„æ–¹å¼ä¸€æ ·ï¼Œè°ƒç”¨CompletableFutureé‚£äº›ä»¥thenå¼€å¤´çš„ä¸€ç³»åˆ—æ–¹æ³•ï¼Œä¸ºCompletableFutureå®šä¹‰å¼‚æ­¥æ–¹æ³•ç»“æŸä¹‹åçš„åç»­æ“ä½œã€‚æ¯”å¦‚åƒä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨thenRun()æ–¹æ³•ï¼Œå‚æ•°å°±æ˜¯å°†è½¬è´¦å®Œæˆæ‰“å°åœ¨æ§å°ä¸Šè¿™ä¸ªæ“ä½œï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åœ¨è½¬è´¦å®Œæˆåï¼Œåœ¨æ§åˆ¶å°æ‰“å°â€œè½¬è´¦å®Œæˆï¼â€äº†ã€‚</p><h2>å°ç»“</h2><p>ç®€å•çš„è¯´ï¼Œå¼‚æ­¥æ€æƒ³å°±æ˜¯ï¼Œ<strong>å½“æˆ‘ä»¬è¦æ‰§è¡Œä¸€é¡¹æ¯”è¾ƒè€—æ—¶çš„æ“ä½œæ—¶ï¼Œä¸å»ç­‰å¾…æ“ä½œç»“æŸï¼Œè€Œæ˜¯ç»™è¿™ä¸ªæ“ä½œä¸€ä¸ªå‘½ä»¤ï¼šâ€œå½“æ“ä½œå®Œæˆåï¼Œæ¥ä¸‹æ¥å»æ‰§è¡Œä»€ä¹ˆã€‚â€</strong></p><p>ä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼Œè™½ç„¶å¹¶ä¸èƒ½åŠ å¿«ç¨‹åºæœ¬èº«çš„é€Ÿåº¦ï¼Œä½†å¯ä»¥å‡å°‘æˆ–è€…é¿å…çº¿ç¨‹ç­‰å¾…ï¼Œåªç”¨å¾ˆå°‘çš„çº¿ç¨‹å°±å¯ä»¥è¾¾åˆ°è¶…é«˜çš„ååèƒ½åŠ›ã€‚</p><p>åŒæ—¶æˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨æ„åˆ°å¼‚æ­¥æ¨¡å‹çš„é—®é¢˜ï¼šç›¸æ¯”äºåŒæ­¥å®ç°ï¼Œå¼‚æ­¥å®ç°çš„å¤æ‚åº¦è¦å¤§å¾ˆå¤šï¼Œä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§éƒ½ä¼šæ˜¾è‘—çš„ä¸‹é™ã€‚è™½ç„¶ä½¿ç”¨ä¸€äº›å¼‚æ­¥ç¼–ç¨‹æ¡†æ¶ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šç®€åŒ–å¼‚æ­¥å¼€å‘ï¼Œä½†æ˜¯å¹¶ä¸èƒ½è§£å†³å¼‚æ­¥æ¨¡å‹é«˜å¤æ‚åº¦çš„é—®é¢˜ã€‚</p><p>å¼‚æ­¥æ€§èƒ½è™½å¥½ï¼Œä½†ä¸€å®šä¸è¦æ»¥ç”¨ï¼Œåªæœ‰ç±»ä¼¼åœ¨åƒæ¶ˆæ¯é˜Ÿåˆ—è¿™ç§ä¸šåŠ¡é€»è¾‘ç®€å•å¹¶ä¸”éœ€è¦è¶…é«˜ååé‡çš„åœºæ™¯ä¸‹ï¼Œæˆ–è€…å¿…é¡»é•¿æ—¶é—´ç­‰å¾…èµ„æºçš„åœ°æ–¹ï¼Œæ‰è€ƒè™‘ä½¿ç”¨å¼‚æ­¥æ¨¡å‹ã€‚å¦‚æœç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œåœ¨æ€§èƒ½è¶³å¤Ÿæ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ç¬¦åˆäººç±»è‡ªç„¶çš„æ€è·¯ä¸”æ˜“äºå¼€å‘å’Œç»´æŠ¤çš„åŒæ­¥æ¨¡å‹æ˜¯æ›´åŠ æ˜æ™ºçš„é€‰æ‹©ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åç»™ä½ ç•™2ä¸ªæ€è€ƒé¢˜ï¼š</p><p>ç¬¬ä¸€ä¸ªæ€è€ƒé¢˜æ˜¯ï¼Œæˆ‘ä»¬å®ç°è½¬è´¦æœåŠ¡æ—¶ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘å¤„ç†å¤±è´¥çš„æƒ…å†µã€‚ä½ å›å»å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œåœ¨å¼‚æ­¥å®ç°ä¸­ï¼Œå¦‚æœè°ƒç”¨è´¦æˆ·æœåŠ¡å¤±è´¥æ—¶ï¼Œå¦‚ä½•å°†é”™è¯¯æŠ¥å‘Šç»™å®¢æˆ·ç«¯ï¼Ÿåœ¨ä¸¤æ¬¡è°ƒç”¨è´¦æˆ·æœåŠ¡çš„Addæ–¹æ³•æ—¶ï¼Œå¦‚æœæŸä¸€æ¬¡è°ƒç”¨å¤±è´¥äº†ï¼Œè¯¥å¦‚ä½•å¤„ç†æ‰èƒ½ä¿è¯è´¦æˆ·æ•°æ®æ˜¯å¹³çš„ï¼Ÿ</p><p>ç¬¬äºŒä¸ªæ€è€ƒé¢˜æ˜¯ï¼Œåœ¨å¼‚æ­¥å®ç°ä¸­ï¼Œå›è°ƒæ–¹æ³•OnComplete()æ˜¯åœ¨ä»€ä¹ˆçº¿ç¨‹ä¸­è¿è¡Œçš„ï¼Ÿæˆ‘ä»¬æ˜¯å¦èƒ½æ§åˆ¶å›è°ƒæ–¹æ³•çš„æ‰§è¡Œçº¿ç¨‹æ•°ï¼Ÿè¯¥å¦‚ä½•åšï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æƒ³æ³•ã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/de/23/de0a489e6b4fa9a49450bf9197593423.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            senekis  2019-08-13 08:33:16
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œæˆ‘ä¸€ç›´æœ‰ä¸€ä¸ªå›°æƒ‘ï¼Œå°±æ˜¯æƒ³ä¸æ˜ç™½ä¸ºä½•å¼‚æ­¥å¯ä»¥èŠ‚çœçº¿ç¨‹ã€‚æ¯æ¬¡å‘èµ·ä¸€ä¸ªå¼‚æ­¥è°ƒç”¨ä¸éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å—ï¼Ÿæˆ‘ç†è§£äº†å¥½å‡ æ¬¡ï¼Œæ„Ÿè§‰åªæ˜¯å¼‚æ­¥å¤„ç†çº¿ç¨‹åœ¨ç­‰å¾…æ—¶å¯ä»¥è®©å‡ºæ—¶é—´ç‰‡ç»™å…¶ä»–çº¿ç¨‹è¿è¡Œå•Šï¼Ÿä¸€ç›´æƒ³ä¸æ˜ç™½è¿™ä¸ªé—®é¢˜ï¼Œå›°æ‰°äº†å¥½ä¹…ï¼Œæ±‚è€å¸ˆè§£æƒ‘ã€‚ [4èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç¬‘å‚²æµäº‘  2019-08-13 13:24:31
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸ªäººçš„æ€è·¯ï¼Œæ¬¢è¿è€å¸ˆç‚¹è¯„ä¸‹å“ˆã€‚<br>1ï¼Œè°ƒç”¨è´¦æˆ·å¤±è´¥ï¼Œå¯ä»¥åœ¨å¼‚æ­¥callBacké‡Œæ‰§è¡Œé€šçŸ¥å®¢æˆ·ç«¯çš„é€»è¾‘ï¼›<br>2ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å¤±è´¥ï¼Œé‚£åé¢çš„é‚£ä¸€æ­¥å°±ä¸ç”¨æ‰§è¡Œäº†ï¼Œæ‰€ä»¥è½¬è´¦å¤±è´¥ï¼›å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æˆåŠŸä½†æ˜¯ç¬¬äºŒæ¬¡å¤±è´¥ï¼Œé¦–å…ˆè€ƒè™‘é‡è¯•ï¼Œå¦‚æœè½¬è´¦æœåŠ¡æ˜¯å¹‚ç­‰çš„,å¯ä»¥è€ƒè™‘ä¸€å®šæ¬¡æ•°çš„é‡è¯•ï¼Œå¦‚æœä¸èƒ½é‡è¯•ï¼Œå¯ä»¥è€ƒè™‘é‡‡ç”¨è¡¥å¿æœºåˆ¶ï¼Œundoç¬¬ä¸€æ¬¡çš„è½¬è´¦æ“ä½œã€‚<br>3ï¼ŒCompletableFutureé»˜è®¤æ˜¯åœ¨ForkjoinPool commonpoolé‡Œæ‰§è¡Œçš„ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªExecutorçº¿ç¨‹æ± æ‰§è¡Œï¼Œå€Ÿé‰´guavaçš„ListenableFutureçš„æ—¶é—´ï¼Œå›è°ƒå¯ä»¥æŒ‡å®šçº¿ç¨‹æ± æ‰§è¡Œï¼Œè¿™æ ·å°±èƒ½æ§åˆ¶è¿™ä¸ªçº¿ç¨‹æ± çš„çº¿ç¨‹æ•°ç›®äº†ã€‚ [2èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ä¸ä¼šçˆ¬æ ‘çš„ç†Š  2019-08-13 09:45:24
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ç¬¬ä¸€ä¸ªé—®é¢˜: ä¿ºè§‰ç€å§ï¼Œè´¦æˆ·æœåŠ¡é‚£å™¶å¦‚æœèƒ½å¢åŠ ä¸€ä¸ªæŸ¥è¯¢æœåŠ¡ï¼Œè¶…æ—¶+è°ƒç”¨å¤±è´¥éƒ½å¯ä»¥é€šè¿‡æŸ¥è¯¢ç¡®è®¤å½“å‰è´¦æˆ·çŠ¶æ€ï¼Œå»¶åå†å†³å®šä¸‹é¢å„¿å’‹å¤„ç†ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜:å°±æ˜¯è€å¸ˆåŸºç¡€ç¯‡èŠçš„å¹‚ç­‰æ–¹æ¡ˆä¹ˆ+è¯·æ±‚é¡ºåºçš„æ–¹æ¡ˆä¹ˆ<br><br>è°¢è°¢è€å¸ˆç»™ç‚¹è¯„ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è“é­”ä¸¶  2019-08-13 08:47:09
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œè½¬è´¦ä¾‹å­ä»£ç ä¸­ç»™è½¬å…¥è´¦å·åŠ é’±å†™é”™äº†å§ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            DAV ğŸƒ  2019-08-13 15:39:18
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¯·æ•™ä¸€ä¸‹ï¼Œåœ¨æ•´ä¸ªæ¶ˆæ¯é˜Ÿåˆ—çš„åœºæ™¯é‡Œé¢æ€ä¹ˆèåˆå¼‚æ­¥è°ƒç”¨ï¼Ÿä¸¾ä¾‹ï¼ŒAå‘é€æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è¿›ç¨‹å¤„ç†åå¦‚ä½•é€šè¿‡å›è°ƒå½¢å¼è¿”å›ç»“æœç»™A?  
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Better me  2019-08-13 14:35:11
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¯¹äºæ€è€ƒé¢˜:<br>1ã€åº”è¯¥å¯ä»¥é€šè¿‡ç¼–ç¨‹å¼äº‹ç‰©æ¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚å¦‚ä½•å°†é”™è¯¯ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ„Ÿè§‰è¿™è¾¹å’Œè€å¸ˆä¸Šæ¬¡ç­”ç–‘ç½‘å…³å¦‚ä½•æ¥æ”¶æœåŠ¡ç«¯ç§’æ€ç»“æœæœ‰ç‚¹ç±»ä¼¼ï¼Œé€šè¿‡æ–¹æ³•å›è°ƒï¼Œåœ¨å›è°ƒæ–¹æ³•ä¸­ä¿å­˜ä¸‹è½¬è´¦æˆåŠŸæˆ–å¤±è´¥<br>2ã€åœ¨å¼‚æ­¥å®ç°ä¸­ï¼Œå›è°ƒæ–¹æ³• OnComplete()åœ¨æ‰§è¡ŒOnAllDone()å›è°ƒæ–¹æ³•çš„é‚£ä¸ªçº¿ç¨‹ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹æ± å»æ§åˆ¶å›è°ƒæ–¹æ³•çš„çº¿ç¨‹æ•°ï¼Œå¦‚Springä¸­çš„asyncå°±æ˜¯é€šè¿‡ç»“åˆçº¿ç¨‹æ± æ¥å®ç°å¼‚æ­¥è°ƒç”¨<br>çœ‹äº†ä¸¤éæ‰ç¨å¾®æœ‰ç‚¹æ€è·¯ï¼Œè€å¸ˆæœ‰ç©ºçœ‹çœ‹ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å·æ°  2019-08-13 12:27:07
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œååé‡å¢åŠ å¯ä»¥ç†è§£ï¼Œå› ä¸ºè¯·æ±‚å‘ç”Ÿåå°±ç›´æ¥è¿”å›äº†ï¼Œä»è€Œé¿å…äº†åç»­ç­‰å¾…çš„å»¶æ—¶ï¼›ä½†æ˜¯ï¼Œä»¥ä»Šå¤©å†…å®¹ä¸ºä¾‹ï¼š<br>1ã€TransferAsyncè¯·æ±‚å‘ç”Ÿï¼Œç›´æ¥è¿”å›ï¼Œå¹¶å¼€å¯æ–°çº¿ç¨‹å¤„ç†OnDebitå‡½æ•°ï¼›<br>2ã€OnDebitå¤„ç†å®Œæ¯•ï¼Œå¼€å¯æ–°çº¿ç¨‹å¤„ç†OnAllDoneå‡½æ•°ï¼›<br>3ã€OnAllDoneå‡½æ•°å¤„ç†å®Œæ¯•ï¼›<br>é‚£ä¹ˆï¼Œä»å®è§‚æ¥çœ‹ï¼Œçº¿ç¨‹æ•°é‡æ˜¯ä¸æ˜¯è¦æ¯”åŒæ­¥å¤šå¾ˆå¤šï¼Ÿ<br>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè°ƒç”¨æ–¹å¦‚ä½•å¾—çŸ¥è½¬è´¦æˆåŠŸï¼Ÿå‰å°å¼€å¯ä¸€ä¸ªæ–°çº¿ç¨‹å»è½®è¯¢å—ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è®¸ç«¥ç«¥  2019-08-13 11:46:51
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¦‚ä½•å°†é”™è¯¯æŠ¥å‘Šç»™å®¢æˆ·ç«¯ï¼Ÿ<br>javascriptä¸­ç”¨.catchæ•è·å¼‚å¸¸<br><br>åœ¨ä¸¤æ¬¡è°ƒç”¨è´¦æˆ·æœåŠ¡çš„ Add æ–¹æ³•æ—¶ï¼Œå¦‚æœæŸä¸€æ¬¡è°ƒç”¨å¤±è´¥äº†ï¼Œè¯¥å¦‚ä½•å¤„ç†æ‰èƒ½ä¿è¯è´¦æˆ·æ•°æ®æ˜¯å¹³çš„ï¼Ÿ<br>äº‹åŠ¡è¡¥å¿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            äºšæ´²èˆç‹.å°¼å¤æ‹‰æ–¯.èµµå››  2019-08-13 11:27:48
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            1.è€å¸ˆï¼Œèƒ½å¦è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆâ€œä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¹‹åï¼Œåœ¨å°‘é‡è¯·æ±‚ä¹‹ä¸‹ï¼Œæ—¶å»¶ä¾æ—§æ˜¯100msï¼Œä½†æ˜¯åœ¨å¤§é‡è¯·æ±‚ä¹‹ä¸‹ï¼Œå¼‚æ­¥çš„å®ç°ä¸éœ€è¦ç­‰å¾…çº¿ç¨‹çš„æ‰§è¡Œç»“æœâ€ï¼Ÿå°‘é‡è¯·æ±‚ä¸ä¹Ÿä¸éœ€è¦ç­‰å¾…å—<br>2.å¦‚æœä½¿ç”¨å¼‚æ­¥æ–¹å¼å®ç°ï¼Œæˆ‘çš„onComplete()æ–¹æ³•åœ¨å¦ä¸€ä¸ªçº¿ç¨‹é‡Œæ‰§è¡Œï¼Œæˆ‘æ€ä¹ˆé€šçŸ¥æˆ‘çš„å®¢æˆ·ç«¯æˆ‘æ‰§è¡ŒæˆåŠŸè¿˜æ˜¯å¤±è´¥å‘¢ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¹¿è®­  2019-08-13 09:34:07
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            accountServiceå¦‚æœæœ¬èº«æ˜¯è‡ªå·±å¤„ç†é€»è¾‘ï¼Œé‚£å°†å…¶æ”¾å…¥ä¸€ä¸ªäº‹åŠ¡ä¸­å°±è§£å†³éƒ¨åˆ†å¤±è´¥ã€‚å¦‚æœè°ƒç”¨ä¸‰æ–¹æœåŠ¡ï¼Œå°±æ¯”è¾ƒéº»çƒ¦ã€‚éœ€è¦æŠŠä¸¤æ­¥æ“ä½œéƒ½ç•™å­˜ï¼Œå¤±è´¥çš„åˆ—è¡¨æ¯å¤©éƒ½è¦å¤„ç†ã€‚<br><br>ä¸€èˆ¬éƒ½æœ‰ä¸“é—¨çš„å¼‚æ­¥çº¿ç¨‹æ± æ¥è¿è¡Œå¼‚æ­¥taskä»»åŠ¡ï¼Œæ¯”å¦‚spring çš„asyncã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Jxin  2019-08-13 09:28:55
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            1.æä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦1wä¸ªçº¿ç¨‹ï¼Ÿjavaçš„çº¿ç¨‹æ¨¡å‹ä¸æ˜¯1:1çš„å—ï¼Œå®é™…åœ¨è·‘çš„çº¿ç¨‹ä»…æœ‰æ ¸æ•°*2ï¼Œ1wè¿™ä¸ªæ•°é‡ä¸æ˜¯é€ æˆäº†å†…å­˜æµªè´¹å’Œä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬å—ã€‚<br>2.å¼‚æ­¥å¼‚å¸¸å›ä¼ ï¼Œå¹¶ä¼ å›å½“å‰æ“ä½œç»‘å®šåœ¨çº¿ç¨‹æœ¬åœ°ç©ºé—´çš„äº‹åŠ¡å®ä¾‹ã€‚åªæœ‰å½“ä¸¤æ¬¡éƒ½æˆåŠŸæ‰æäº¤ä¸¤ä¸ªaddçš„äº‹åŠ¡ã€‚ï¼ˆäº‹åŠ¡ä¸èƒ½å£°æ˜ï¼Œåªèƒ½æ‰‹åŠ¨å¼€å¯å’Œæäº¤äº†ï¼‰ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            A:æ˜¥å“¥å¤§é­”ç‹  2019-08-13 09:19:46
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            jdk1.8ä¹‹å‰æ²¡æœ‰completablefutureåº”è¯¥ç”¨ä»€ä¹ˆæå¼‚æ­¥å‘¢ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç››  2019-08-13 09:11:01
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
               å…¶å®å¼‚æ­¥å‡å°‘çš„æ˜¯ç­‰å¾…æ—¶é—´ã€‚å…³äºç¬¬ä¸€ä¸ªæ€è€ƒé¢˜ï¼šè°ƒç”¨å¤±è´¥æ˜¯ä¸æ˜¯å°±å¯ä»¥æŠ›å‡ºerrorï¼Œç›´æ¥ä¸æ‰§è¡Œç¬¬ä¸€æ­¥ï¼›ä»£ç ä¸­æ˜¯å¦å°‘äº†ç›¸åº”çš„æŸ¥è¯¢æ“ä½œè¿›è¡Œæ ¸å¯¹å•Šï¼Œå¦åˆ™ä¸‡ä¸€å°±æ ¹æœ¬æ²¡æœ‰æ‰§è¡ŒæˆåŠŸå‘¢ã€‚æ“ä½œå®Œæˆåç›¸åº”çš„æŸ¥è¯¢æ ¸å¯¹åº”å½“æ—¶å€™æ”¾åˆ°äº†åé¢å§ï¼šæœ‰é—®é¢˜å†è¿›è¡Œç›¸åº”çš„ç±»ä¼¼äºå›æ»šä¹‹ç±»çš„æ“ä½œã€‚<br>    ç¬¬äºŒä¸ªé—®é¢˜oncomplete()åœ¨ä»€ä¹ˆçº¿ç¨‹ä¸­æ‰§è¡Œè¿™ä¸ªä¸æ˜¯å¾ˆæ¸…æ¥šï¼šä¸è¿‡æˆ‘è§‰å¾—å¯ä»¥é€šè¿‡çº¿ç¨‹å»æ§åˆ¶å›è°ƒæ–¹æ³•çš„æ‰§è¡Œçº¿ç¨‹æ•°ï¼Œå…·ä½“å®ç°æ–¹å¼å°±æš‚æ—¶è¿˜æ²¡æƒ³åˆ°ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            HadesFX  2019-08-13 09:00:24
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            1.å¯ä»¥å¢åŠ å¼‚æ­¥è°ƒç”¨åçš„è¿”å›å€¼ç”¨æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸã€‚<br>2.åº”è¯¥æ˜¯å­˜åœ¨ä¸€ä¸ªé»˜è®¤çº¿ç¨‹æ± ï¼Œä½¿ç”¨çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ï¼Œå¯èƒ½å­˜åœ¨ä¸€ä¸ªé…ç½®è‡ªå®šä¹‰çº¿ç¨‹æ± çš„æ–¹æ³•ç”¨æ¥å®šåˆ¶æ§åˆ¶æ•°é‡ã€‚<br>ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ä¸šä½™è‰  2019-08-13 08:47:40
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¼‚æ­¥è™½å¥½ï¼Œä½†ä½¿ç”¨åœºæ™¯æœ‰é™ï¼ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç™½å°ç™½  2019-08-13 08:28:11
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å—¯â€¦â€¦ç¬¬ä¸€éæœ‰ç‚¹æ‡µâ€¦â€¦æˆ‘å†æ¥ä¸¤éâ€¦â€¦å†å›ç­”æ€è€ƒé—®é¢˜â€¦â€¦ 
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>